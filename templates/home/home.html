{% extends 'base.html' %}
{% load static %}

{% block content %}
{#    Showcase #}
    <main class="container-fluid container-fluid-max-width">
        <div class="row">
            <div class="col-12 p-0">
                <div class="css-home-showcase-wrapper">
                    <picture>
                        <source media="(max-width: 575.98px)" srcset="{% static 'img/new-home-showcase-mobile.jpg' %}">
                        <img class="d-block w-100" src="{% static 'img/new-home-showcase-desktop.jpg' %}" alt="Парень с книгой удобно расположился на кресло-мешке, бинбэге или пуфике">
                    </picture>
                    <div class="css-home-showcase-text d-flex flex-column justify-content-center px-3 pl-sm-0 pr-md-4 pr-lg-5">
                        {% include 'home/home-showcase-text.html' %}
                    </div>
                </div>
            </div>
        </div>
    </main>

{#    Advantages #}
    <section class="container-fluid container-fluid-max-width my-3">
    <div class="row">
        {% for title, text, img_location in advantages %}
            {% include 'home/home-advantage.html' %}
        {% endfor %}
    </div>
    </section>

{#    Break #}
    <div class="d-block py-2"></div>

{#    Most popular products #}
    <section class="container-fluid container-fluid-max-width">
    <div class="row">
        <div class="col-12">
            <div class="h2 my-0 font-weight-light">
                Популярные
            </div>
        </div>

        <div class="col-12">
        <div class="row d-flex flex-nowrap overflow-auto">
            {% for result in popular_results %}
            <div class="col-7 col-sm-5 col-md-4 px-3 {% if forloop.first %}pl-lg-2 pl-xl-0{% elif forloop.last %}pr-lg-2 pr-xl-0{% endif %} py-3">
                {% with expanded_colors="false" %}
                {% with origin=result.0 selected_product=result.1 number_of_products=result.2 pictures=result.3 %}
                    {% include 'card/card.html' %}
                {% endwith %}
                {% endwith %}
            </div>
            {% endfor %}
        </div>
        </div>

        <div class="col-12 my-3">
{#        CTA #}
        <div class="d-flex justify-content-center">
            <a href="{% url 'shop' %}" class="btn btn-color-1 text-white px-4 py-2 css-btn-sm-block">
                <span class="h6 my-0">Посмотреть все</span>
            </a>
        </div>
        </div>
    </div>
    </section>

{#    Break #}
    <div class="d-block py-2"></div>

{#    Steps #}
    <section class="container-fluid container-fluid-max-width">
    <div class="row">
        <div class="col-12 mb-2">
            <div class="h2 my-0 font-weight-light">
                Оформление заказа
            </div>
        </div>

        {% for text, img_location in steps %}
            {% include 'home/home-step.html' %}
        {% endfor %}
    </div>
    </section>

{#    Counter #}
    <section class="container-fluid container-fluid-max-width my-3">
        <div class="row">
            <div class="col-12 d-flex align-items-center justify-content-center bg-white py-4">
                <div class="d-inline-block">
                    <div class="h3 my-0 font-weight-normal text-center">
                        Мы уже доставили <span class="h3 my-0">{{ delivered_order_count }}</span> заказа нашим покупателям!
                    </div>
                </div>
                <div class="d-inline-block ml-1">
                    <img class="css-width-50px p-1" src="{% static 'img/smiling_filled_125px.png' %}" alt="Улыбка">
                </div>
            </div>
        </div>
    </section>

{#    Product Description #}
    <section class="container-fluid container-fluid-max-width">
    <div class="row">
        <div class="col-12 col-sm-6 col-lg-5 px-sm-0 order-1 my-3">
            <img class="d-block w-100" src="{% static 'img/new-home-showcase.jpg' %}" alt="Красивый и гармоничный кресло-мешок, бинбэг или пуфик">
        </div>
        <div class="col-12 col-sm-6 col-lg-5 px-sm-0 order-3 order-sm-4 my-3">
            <img class="d-block w-100" src="{% static 'img/new-home-showcase.jpg' %}" alt="Удобный и безопасный кресло-мешок, бинбэг или пуфик">
        </div>
        <div class="col-12 col-sm-6 col-lg-5 pl-md-5 d-flex flex-column justify-content-center order-2 my-3">
            <div class="h5">Красиво</div>
            <p class="my-0">
                Кресло-мешки в нашем интернет-магазине представлены в нескольких цветах и выполнены из разных материалов.
                А удобный поиск по материалам и цветам в каталоге позволяет нашим покупателям выбрать себе кресло-мешки,
                которые гармонично впишутся в интерьер любого помещения не только дома, но и в офисе. Наши кресло-мешки
                отлично смотрятся как в детской, так и в гостиной комнатах, а также в комнате отдыха на работе.
            </p>
        </div>
        <div class="col-12 col-sm-6 col-lg-5 pr-lg-5 offset-lg-2 d-flex flex-column justify-content-center order-4 order-sm-3 my-3">
            <div class="h5">Удобно</div>
            <p class="my-0">
                Кресло-мешки иногда также называются бинбэгами или кресло-пуфами и являются бескаркасной мебелью, что
                делает ее легкой для перемещения и безопасной для детей. Также, отсутствие каркаса позволяет
                кресло-пуфу принимать различные формы и подстраиваться под Ваше тело. Удобно расположившись в
                кресле, Вы можете насладиться комфортом при чтении книги после рабочего дня или при просмотре фильма
                в кругу семьи или друзей, а также при общении с коллегами во время перерыва на работе.
            </p>
        </div>
        <div class="col-12 my-3 order-5">
            <div class="d-flex justify-content-center">
                <a href="{% url 'shop' %}" class="btn btn-color-1 text-white px-4 py-2 css-btn-sm-block">
                    <span class="h6 my-0">Перейти в каталог</span>
                </a>
            </div>
        </div>
    </div>
    </section>
{% endblock %}

{% block filler %}
    <div class="flex-fill container-fluid container-fluid-max-width bg-light"></div>
{% endblock %}
